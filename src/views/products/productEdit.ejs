<!DOCTYPE html>
<html>
<!-- head -->
<%- include('../partials/head') %>

    <body>
        <!-- header -->
        <%- include('../partials/partialsProducts/headerProducts') %>

            <main class="mainProductUpload">

                <form action="/products/edit?_method=PUT" method="POST" enctype="multipart/form-data" class="formProductUpload">
                    <input type="hidden" name="id" value="<%= product.id %>">
                    <div>
                    <div class="productNameUpload">
                        <label>Nombre del producto</label>
                        <input type="text" name="productName" value="<%= product.productName %>" >
                    </div>
                    
                    <div class="productPriceUpload">
                        <label>Precio del producto</label>
                        <input type="number" name="productPrice" value="<%= product.productPrice %>" placeholder="Precio2">      
                    </div>
                </div>

                    <% if(locals.errors && errors.productName){ %>
                        <div class= "validationError">
                            <%= errors.productName.msg %>
                        </div>
                    <% } %>

                    <% if(locals.errors && errors.productPrice){ %>
                        <div class= "validationError">
                            <%= errors.productPrice.msg %>
                        </div>
                    <% } %> 
                    <div>
                    <div class="listCategoriesProductUpload">
                        <label>Categoría del producto</label>
                        <select name="listCategoriesProduct">
                            <option value="vehiculos" <%= product.listCategoriesProduct == 'vehiculos' ? 'selected' : ''%>>Vehiculos</option>
                            <option value="hogar"  <%= product.listCategoriesProduct == 'hogar' ? 'selected' : ''%>>Hogar y muebles</option>
                            <option value="electrodomesticos"  <%= product.listCategoriesProduct == 'electrodomesticos' ? 'selected' : ''%>>Electrodomésticos</option>
                            <option value="inmobiliaria"  <%= product.listCategoriesProduct == 'inmobiliaria' ? 'selected' : ''%>>Inmobiliaria</option>
                            <option value="electronica"  <%= product.listCategoriesProduct == 'electronica' ? 'selected' : ''%>>Electrónica</option>
                            <option value="ropa"  <%= product.listCategoriesProduct == 'ropa' ? 'selected' : ''%>> Ropa y accesorios</option>
                            <option value="deportes"  <%= product.listCategoriesProduct == 'deportes' ? 'selected' : ''%>>Deportes</option>
                            <option value="libros"  <%= product.listCategoriesProduct == 'libros' ? 'selected' : ''%>>Libros, revistas y comics</option>
                        </select>
                    </div>
                    
                    <div class="questionExchange">
                        <label>Categoría para intercambio</label>
                        <select name="categoryExchange">
                            <option value="vehiculos" <%= product.categoryExchange== 'vehiculos' ? 'selected' : ''%>>Vehiculos</option>
                            <option value="hogar"  <%= product.categoryExchange== 'hogar' ? 'selected' : ''%>>Hogar y muebles</option>
                            <option value="electrodomesticos"  <%= product.categoryExchange== 'electrodomesticos' ? 'selected' : ''%>>Electrodomésticos</option>
                            <option value="inmobiliaria"  <%= product.categoryExchange== 'inmobiliaria' ? 'selected' : ''%>>Inmobiliaria</option>
                            <option value="electronica"  <%= product.categoryExchange== 'electronica' ? 'selected' : ''%>>Electrónica</option>
                            <option value="ropa"  <%= product.categoryExchange== 'ropa' ? 'selected' : ''%>> Ropa y accesorios</option>
                            <option value="deportes"  <%= product.categoryExchange== 'deportes' ? 'selected' : ''%>>Deportes</option>
                            <option value="libros"  <%= product.categoryExchange== 'libros' ? 'selected' : ''%>>Libros, revistas y comics</option>
                        </select>
                    </div>
                    </div>
                    <div class="productDescriptionUpload">
                        <label>Descripición del producto</label>
                        <textarea name="productDescriptionUpload"><%= product.productDescriptionUpload %></textarea>
                        
                    </div>
                    <% if(locals.errors && errors.productDescriptionUpload){ %>
                        <div class= "validationError">
                            <%= errors.productDescriptionUpload.msg %>
                        </div>
                    <% } %> 
                    
                    <div>
                    <div class="mainImageUpload">
                        <label>Imagen principal</label>
                        <input type="file" name="mainImageUpload" accept="image/png, image/jpg, image/jpeg, image/gif, image/webp">
                        
                    </div>
                    

                    <div class="imagesUpload">
                        <label>Imagenes del producto</label>
                        <input type="file" name="imagesUpload" accept="image/png, image/jpg, image/jpeg, image/gif, image/webp" multiple>
                       
                    </div>
                    </div>
                    <% if(locals.errors && errors.mainImageUpload){ %>
                    <div class= "validationError">
                        <%= errors.mainImageUpload.msg %>
                    </div>
                    <% } %> 
                    <% if(locals.errors && errors.imagesUpload){ %>
                        <div class= "validationError">
                            <%= errors.imagesUpload.msg %>
                        </div>
                    <% } %> 

                    <div class="aimUpload">
                        <label>¿Qué quieres hacer con el producto?</label>

                        <label><input type="radio" name="aimUpload" value="vender"  <%= product.aimUpload== 'vender' ? 'checked' : 'true'%>>Vender</label>
                        <label><input type="radio" name="aimUpload" value="cambiar"  <%= product.aimUpload== 'cambiar' ? 'checked' : 'true'%>>Cambiar</label>                    
                    </div>
                    <% if(locals.errors && errors.aimUpload){ %>
                        <div class= "validationError">
                            <%= errors.aimUpload.msg %>
                        </div>
                    <% } %> 

                    

                    <div class="buttonsUpload">
                        <button type="submit">Subir</button>
                        <button type="reset">Cancelar</button>
                    </div>

                </form>

            </main>
            
            <!-- footer -->
            <%- include('../partials/partialsProducts/footerProducts') %>

            <script type="text/javascript" src="/js/libraries/validator.js"></script>
            <script type="text/javascript" src="/js/libraries/sweetalert.js"></script>

            <script type="text/javascript" src="/js/globals.js"></script>

            
            <script type="text/javascript" src="/js/front-validations/productsValidator.js"></script>
    </body>

</html>