<!DOCTYPE html>
<html>
<!-- head -->
<%- include('../partials/head') %>

    <body class="bodyregister">
        <!-- header -->
        <%- include('../partials/partialsUsers/headerUsers') %>
            <main class="mainLogin">
                <section>
                    <h1>Crear cuenta</h1>

                    <form class="formRegister" action="/users/register" method="post" enctype="multipart/form-data">
                        <div class="inputForm">
                            <label class="inputMed">
                                <span>Nombre</span>
                                <input type="text" name="name" autocomplete="off" value="<%= locals.old ? old.name : '' %>" required>
                            </label>
                            <label class="inputMed">
                                <span>Apellido(s)</span>
                                <input type="text" name="lastName" autocomplete="off" class="inputMed" value="<%= locals.old ? old.lastName : '' %>" required>
                            </label>
                        </div>

                        <% if(locals.errors && errors.name){ %>
                            <div class="validationError">
                                <%= errors.name.msg %>
                            </div>
                        <% } %>
                        
                        <% if(locals.errors && errors.lastName){ %>
                            <div class="validationError">
                                <%= errors.lastName.msg %>
                            </div>
                        <% } %>
                        <div class="inputForm small">
                            <label class="inputSmall">
                                <span>Correo electrónico</span>
                                <input type="email" name="email" autocomplete="off" value="<%= locals.old ? old.email : '' %>" required>
                            </label>
                        </div>

                        <% if(locals.errors && errors.email){ %>
                            <div class="validationError">
                                <%= errors.email.msg %>
                            </div>
                        <% } %>

                        <div class="inputForm">
                            <label class="inputMed">
                                <span>Contraseña</span>
                                <input type="password" name="password" autocomplete="off" class="inputMed" required>
                            </label>
                            <label class="inputMed">
                                <span>Confirmar contraseña</span>
                                <input type="password" name="confirmPassword" autocomplete="off" class="inputMed" required>
                            </label>
                        </div>

                        <% if(locals.errors && errors.password){ %>
                            <div class="validationError">
                                <%= errors.password.msg %>
                            </div>
                        <% } %>

                        <% if(locals.errors && errors.confirmPassword){ %>
                            <div class="validationError">
                                <%= errors.confirmPassword.msg %>
                            </div>
                        <% } %>

                        <div class="contentForm">
                            <label class="addImgProfile" for="avatar">Agrega una imagen de perfil</label>
                                <input class="addAvatar" type="file" accept="image/png, image/jpg, image/jpeg, image/gif, image/webp" name="avatar" id="avatar">
                        </div>

                        <% if(locals.errors && errors.avatar){ %>
                            <div class="validationError">
                                <%= errors.avatar.msg %>
                            </div>
                        <% } %>

                        <div class="contentCheckbox">
                            <label for="accept">Acepto términos y
                                condiciones</label>
                            <input type="checkbox" name="terminos"
                                id="accept" class="remind">
                        </div>
                        <div class="errorsFront">
                        </div>

                        <% if(locals.errors && errors.terminos){ %>
                            <div class="validationError">
                                <%= errors.terminos.msg %>
                            </div>
                        <% } %>
                        
                        <button type="submit">Continuar</button>
                    </form>
                    <a href="/users/login">¿Ya tienes una cuenta?</a>
                </section>
            </main>
            <!-- footer -->
            <%- include('../partials/partialsUsers/footerUsers') %>
    </body>

</html>